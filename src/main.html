<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="style.css" rel="stylesheet"/>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="main.js" type="module"></script>
  </head>
  <body style="margin: 0px">
    <div class="main">
        <div class="leftpanel">
            <div class="snippy-panel">
                <div class="bubble">
                    <p id="snippy-text">Hi I'm Snippy! Pick a window to show me and we can start talking about what I see.</p>
                </div>
                <img src="snippy.png" style="width: 100%; max-width: 100%; height: auto"/>
            </div>
        </div>
        <div class="rightpanel">
            <div id="tile-container-outer">
                <div class="wrap" id="tile-container">
                </div>
            </div>
            <div id="chat-panel-outer" hidden>
                <div class="chat-panel" id="chat-panel">
                    <div class="chat-history" id="chat-history">
                        <div class="chat-message received">Great! I can see what you're doing now. Let me know if you have any questions I can help you with.</div>
                    </div>
                    <div class="message-input">
                        <input id="sendText" type="text" placeholder="Type a message..." />
                        <button id="sendButton">Send</button>
                        <button id="hangupButton" class="hangup-btn">X</button>
                    </div>
                </div>
            </div>
            <div id="config-panel-outer" hidden>
                <div id="config-panel">
                    <div>
                        <p>To use Snippy, you need to have an OpenAI API key. This key will be used for GPT-4 Turbo with Vision. With current pricing, each query should be no more than 2 cents, and much less for small windows.</p>
                        <p>To skip this dialog, you can also set an environment variable named OPENAI_API_KEY.</p>
                        <input id="apiKeyText" type="text" placeholder="OpenAI API key" />
                        <button id="confirmConfig">OK</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
  </body>
</html>
